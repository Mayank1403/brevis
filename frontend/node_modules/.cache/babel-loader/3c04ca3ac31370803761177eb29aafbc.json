{"ast":null,"code":"var _jsxFileName = \"/home/smrnmakhija/part-3/src/components/download.js\";\nimport { createRef } from 'react';\nimport React from 'react';\n\nconst AuthenticatedLink = ({\n  url,\n  filename,\n  children\n}) => {\n  const link = createRef();\n\n  const handleAction = async () => {\n    if (link.current.href) {\n      return;\n    }\n\n    const result = await fetch(url, {\n      headers: {\n        \"Content-type\": 'application/pdf',\n        'Content-Disposition': 'attachment'\n      }\n    });\n    console.log(result.data);\n    const blob = await result.blob();\n    const file = new Blob([result.data], {\n      type: 'application/pdf'\n    });\n    console.log(file);\n    const href = window.URL.createObjectURL(file);\n    console.log(href);\n    link.current.download = filename;\n    link.current.href = href;\n    link.current.click();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    role: \"button\",\n    ref: link,\n    onClick: handleAction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, children));\n};\n\nexport default AuthenticatedLink;","map":{"version":3,"sources":["/home/smrnmakhija/part-3/src/components/download.js"],"names":["createRef","React","AuthenticatedLink","url","filename","children","link","handleAction","current","href","result","fetch","headers","console","log","data","blob","file","Blob","type","window","URL","createObjectURL","download","click"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,iBAAiB,GAAE,CAAC;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,QAAP;AAAiBC,EAAAA;AAAjB,CAAD,KAAgC;AACvD,QAAMC,IAAI,GAAGN,SAAS,EAAtB;;AAEA,QAAMO,YAAY,GAAG,YAAY;AAC/B,QAAID,IAAI,CAACE,OAAL,CAAaC,IAAjB,EAAuB;AAAE;AAAQ;;AAEjC,UAAMC,MAAM,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAM;AAC9BS,MAAAA,OAAO,EAAE;AAAC,wBAAe,iBAAhB;AAAkC,+BAAsB;AAAxD;AADqB,KAAN,CAA1B;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,IAAnB;AACA,UAAMC,IAAI,GAAG,MAAMN,MAAM,CAACM,IAAP,EAAnB;AACA,UAAMC,IAAI,GAAE,IAAIC,IAAJ,CAAS,CAACR,MAAM,CAACK,IAAR,CAAT,EAAuB;AAACI,MAAAA,IAAI,EAAC;AAAN,KAAvB,CAAZ;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACA,UAAMR,IAAI,GAAGW,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BL,IAA3B,CAAb;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AAEAH,IAAAA,IAAI,CAACE,OAAL,CAAae,QAAb,GAAwBnB,QAAxB;AACAE,IAAAA,IAAI,CAACE,OAAL,CAAaC,IAAb,GAAoBA,IAApB;AAEAH,IAAAA,IAAI,CAACE,OAAL,CAAagB,KAAb;AACD,GAjBD;;AAmBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAG,IAAA,IAAI,EAAC,QAAR;AAAiB,IAAA,GAAG,EAAElB,IAAtB;AAA4B,IAAA,OAAO,EAAEC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoDF,QAApD,CADA,CADJ;AAMD,CA5BD;;AA8BA,eAAeH,iBAAf","sourcesContent":["import { createRef } from 'react'\nimport React from 'react'\n\nconst AuthenticatedLink= ({ url, filename, children })=> {\n  const link = createRef()\n  \n  const handleAction = async () => {\n    if (link.current.href) { return }\n  \n    const result = await fetch(url, {\t\n      headers: {\"Content-type\":'application/pdf','Content-Disposition':'attachment'}\n    })\n    console.log(result.data)\n    const blob = await result.blob()\n    const file= new Blob([result.data],{type:'application/pdf'})\n    console.log(file)\n    const href = window.URL.createObjectURL(file)\n    console.log(href)\n    \n    link.current.download = filename\n    link.current.href = href\n      \n    link.current.click()\n  }\n\n  return (\n      <div>\n      <a role='button' ref={link} onClick={handleAction}>{children}</a>\n      </div>\n    \n  )\n}\n\nexport default AuthenticatedLink;"]},"metadata":{},"sourceType":"module"}