{"ast":null,"code":"var _jsxFileName = \"/home/smrnmakhija/part-3/src/App.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      url: ''\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        url: event.target.value\n      });\n    };\n\n    this.saveAsFile = (text, filename) => {\n      // Step 1: Create the blob object with the text you received\n      const type = 'application/text'; // modify or get it from response\n\n      const blob = new Blob([text], {\n        type\n      }); // Step 2: Create Blob Object URL for that blob\n\n      const url = URL.createObjectURL(blob); // Step 3: Trigger downloading the object using that URL\n\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      a.click(); // triggering it manually\n    };\n\n    this.handleSubmit = event => {\n      console.log(this.state);\n      axios.post('/result', this.state).then(res => {\n        console.log(\"HHH\", res);\n        axios({\n          url: 'http://localhost:3000/home/smrnmakhija/part-3/downloadfile.txt',\n          method: 'GET',\n          responseType: 'blob'\n        }).then(response => {\n          console.log(\"III\", res);\n          const url = window.URL.createObjectURL(new Blob([response.data]));\n          const link = document.createElement('a'); //link.href='http://localhost:3000/home/smrnmakhija/part-3/downloadfile.txt';\n\n          link.href = url;\n          document.body.appendChild(link);\n          link.click();\n        });\n        /*axios.get('/send')\n        .then(response=>{\n          console.log(\"III\",response)\n          var a = response.body.getReader();\n          a.read().then(({ done, value }) => {\n          // console.log(new TextDecoder(\"utf-8\").decode(value));\n          this.saveAsFile(new TextDecoder(\"utf-8\").decode(value), 'filename');*/\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/smrnmakhija/part-3/src/App.js"],"names":["React","axios","App","Component","state","url","handleChange","event","setState","target","value","saveAsFile","text","filename","type","blob","Blob","URL","createObjectURL","a","document","createElement","href","download","click","handleSubmit","console","log","post","then","res","method","responseType","response","window","data","link","body","appendChild","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,GAAN,SAAkBF,KAAK,CAACG,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAEjCC,KAFiC,GAE3B;AACJC,MAAAA,GAAG,EAAC;AADA,KAF2B;;AAAA,SAKhCC,YALgC,GAKlBC,KAAD,IAAU;AACrB,WAAKC,QAAL,CAAc;AAACH,QAAAA,GAAG,EAACE,KAAK,CAACE,MAAN,CAAaC;AAAlB,OAAd;AACD,KAP+B;;AAAA,SAQhCC,UARgC,GAQrB,CAACC,IAAD,EAAOC,QAAP,KAAmB;AAC5B;AACA,YAAMC,IAAI,GAAG,kBAAb,CAF4B,CAEK;;AACjC,YAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACJ,IAAD,CAAT,EAAiB;AAACE,QAAAA;AAAD,OAAjB,CAAb,CAH4B,CAK5B;;AACA,YAAMT,GAAG,GAAGY,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAZ,CAN4B,CAQ5B;;AACA,YAAMI,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,MAAAA,CAAC,CAACG,IAAF,GAASjB,GAAT;AACAc,MAAAA,CAAC,CAACI,QAAF,GAAaV,QAAb;AACAM,MAAAA,CAAC,CAACK,KAAF,GAZ4B,CAYjB;AACZ,KArB+B;;AAAA,SAuBhCC,YAvBgC,GAuBlBlB,KAAD,IAAU;AACrBmB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKvB,KAAjB;AACAH,MAAAA,KAAK,CAAC2B,IAAN,CAAW,SAAX,EAAqB,KAAKxB,KAA1B,EACCyB,IADD,CACMC,GAAG,IAAE;AACTJ,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBG,GAAnB;AACA7B,QAAAA,KAAK,CAAC;AACJI,UAAAA,GAAG,EAAC,gEADA;AAEJ0B,UAAAA,MAAM,EAAC,KAFH;AAGJC,UAAAA,YAAY,EAAC;AAHT,SAAD,CAAL,CAIGH,IAJH,CAIQI,QAAQ,IAAG;AACjBP,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBG,GAAnB;AACF,gBAAMzB,GAAG,GAAC6B,MAAM,CAACjB,GAAP,CAAWC,eAAX,CAA2B,IAAIF,IAAJ,CAAS,CAACiB,QAAQ,CAACE,IAAV,CAAT,CAA3B,CAAV;AACA,gBAAMC,IAAI,GAAEhB,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAZ,CAHmB,CAInB;;AACAe,UAAAA,IAAI,CAACd,IAAL,GAAUjB,GAAV;AACAe,UAAAA,QAAQ,CAACiB,IAAT,CAAcC,WAAd,CAA0BF,IAA1B;AACAA,UAAAA,IAAI,CAACZ,KAAL;AACC,SAZD;AAcA;;;;;;;AASD,OA1BD;AA2BC,KApD6B;AAAA;;AAwDhCe,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKjC,YAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAQ,MAAA,OAAO,EAAE,KAAKmB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF;AAMD;;AA/D+B;;AAkElC,eAAevB,GAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\n\nclass App extends React.Component {\n\n state={\n   url:''\n }\n  handleChange=(event)=> {\n    this.setState({url:event.target.value});\n  }\n  saveAsFile=(text, filename)=> {\n    // Step 1: Create the blob object with the text you received\n    const type = 'application/text'; // modify or get it from response\n    const blob = new Blob([text], {type});\n  \n    // Step 2: Create Blob Object URL for that blob\n    const url = URL.createObjectURL(blob);\n  \n    // Step 3: Trigger downloading the object using that URL\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click(); // triggering it manually\n  }\n\n  handleSubmit=(event)=> {\n    console.log(this.state)\n    axios.post('/result',this.state)\n    .then(res=>{\n      console.log(\"HHH\", res)\n      axios({\n        url:'http://localhost:3000/home/smrnmakhija/part-3/downloadfile.txt',\n        method:'GET',\n        responseType:'blob',\n      }).then(response =>{\n        console.log(\"III\", res)\n      const url=window.URL.createObjectURL(new Blob([response.data]));\n      const link= document.createElement('a');\n      //link.href='http://localhost:3000/home/smrnmakhija/part-3/downloadfile.txt';\n      link.href=url;\n      document.body.appendChild(link);\n      link.click();\n      });\n\n      /*axios.get('/send')\n      .then(response=>{\n        console.log(\"III\",response)\n        var a = response.body.getReader();\n        a.read().then(({ done, value }) => {\n        // console.log(new TextDecoder(\"utf-8\").decode(value));\n        this.saveAsFile(new TextDecoder(\"utf-8\").decode(value), 'filename');*/\n       \n      \n    })\n    }\n\n    \n\n  render() {\n    return (\n      <div>\n        <input type=\"text\" onChange={this.handleChange}></input>\n        <button onClick={this.handleSubmit}>Submit</button>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}