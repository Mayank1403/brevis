{"ast":null,"code":"var _jsxFileName = \"/home/smrnmakhija/part-3/src/components/download.js\";\nimport { createRef, React } from 'react';\n\nconst AuthenticatedLink = ({\n  url,\n  filename,\n  children\n}) => {\n  const link = createRef();\n\n  const handleAction = async () => {\n    if (link.current.href) {\n      return;\n    }\n\n    const result = await fetch(url, {\n      headers: { ...authHeaders\n      }\n    });\n    const blob = await result.blob();\n    const href = window.URL.createObjectURL(blob);\n    link.current.download = filename;\n    link.current.href = href;\n    link.current.click();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    role: \"button\",\n    ref: link,\n    onClick: handleAction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, children));\n};\n\nexport default AuthenticatedLink;","map":{"version":3,"sources":["/home/smrnmakhija/part-3/src/components/download.js"],"names":["createRef","React","AuthenticatedLink","url","filename","children","link","handleAction","current","href","result","fetch","headers","authHeaders","blob","window","URL","createObjectURL","download","click"],"mappings":";AAAA,SAASA,SAAT,EAAmBC,KAAnB,QAAgC,OAAhC;;AAEA,MAAMC,iBAAiB,GAAE,CAAC;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,QAAP;AAAiBC,EAAAA;AAAjB,CAAD,KAAgC;AACvD,QAAMC,IAAI,GAAGN,SAAS,EAAtB;;AAEA,QAAMO,YAAY,GAAG,YAAY;AAC/B,QAAID,IAAI,CAACE,OAAL,CAAaC,IAAjB,EAAuB;AAAE;AAAQ;;AAEjC,UAAMC,MAAM,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAM;AAC9BS,MAAAA,OAAO,EAAE,EAAC,GAAGC;AAAJ;AADqB,KAAN,CAA1B;AAIA,UAAMC,IAAI,GAAG,MAAMJ,MAAM,CAACI,IAAP,EAAnB;AACA,UAAML,IAAI,GAAGM,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BH,IAA3B,CAAb;AAEAR,IAAAA,IAAI,CAACE,OAAL,CAAaU,QAAb,GAAwBd,QAAxB;AACAE,IAAAA,IAAI,CAACE,OAAL,CAAaC,IAAb,GAAoBA,IAApB;AAEAH,IAAAA,IAAI,CAACE,OAAL,CAAaW,KAAb;AACD,GAdD;;AAgBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAG,IAAA,IAAI,EAAC,QAAR;AAAiB,IAAA,GAAG,EAAEb,IAAtB;AAA4B,IAAA,OAAO,EAAEC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoDF,QAApD,CADA,CADJ;AAMD,CAzBD;;AA2BA,eAAeH,iBAAf","sourcesContent":["import { createRef,React } from 'react'\n\nconst AuthenticatedLink= ({ url, filename, children })=> {\n  const link = createRef()\n  \n  const handleAction = async () => {\n    if (link.current.href) { return }\n  \n    const result = await fetch(url, {\t\n      headers: {...authHeaders}\n    })\n    \n    const blob = await result.blob()\n    const href = window.URL.createObjectURL(blob)\n    \n    link.current.download = filename\n    link.current.href = href\n      \n    link.current.click()\n  }\n\n  return (\n      <div>\n      <a role='button' ref={link} onClick={handleAction}>{children}</a>\n      </div>\n    \n  )\n}\n\nexport default AuthenticatedLink;"]},"metadata":{},"sourceType":"module"}